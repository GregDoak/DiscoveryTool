{% extends '::base.html.twig' %}

{% form_theme form _self %}

{% block form_errors %}
    {% spaceless %}
        {% if errors|length > 0 %}
            <p class="help-block">
                {% for error in errors %}
                    {{ error.message }}
                {% endfor %}
            </p>
        {% endif %}
    {% endspaceless %}
{% endblock form_errors %}

{% block body %}
    <div class="row">
        <div class="col-xs-12">
            {% if message|length %}
                <div class="alert alert-success" role="alert">{{ message }}</div>
            {% endif %}
            <h3>Create a new User</h3>
            <div>
                {{ form_errors(form) }}
                {{ form_start(form) }}
                <div class="form-group">
                    {{ form_label(form.firstName, 'First Name: ') }}
                    {{ form_widget(form.firstName, {
                        'attr': {
                            'class': 'form-control',
                            'placeholder': 'Please enter the first name'
                        }
                    }) }}
                    {{ form_errors(form.firstName) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.lastName, 'Surname: ') }}
                    {{ form_widget(form.lastName, {
                        'attr': {
                            'class': 'form-control',
                            'placeholder': 'Please enter the surname'
                        }
                    }) }}
                    {{ form_errors(form.lastName) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.username, 'Username: ') }}
                    {{ form_widget(form.username, {
                        'attr': {
                            'class': 'form-control',
                            'placeholder': 'Please enter the username'
                        }
                    }) }}
                    {{ form_errors(form.username) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.email, 'eMail Address: ') }}
                    {{ form_widget(form.email, {
                        'attr': {
                            'class': 'form-control',
                            'placeholder': 'Please enter the eMail Address'
                        }
                    }) }}
                    {{ form_errors(form.email) }}
                </div>

                <div class="form-group {% if form.plain_password.first.vars.errors|length %} has-error {% endif %}">
                    {{ form_label(form.plain_password.first, 'New Password: ') }}
                    {{ form_widget(form.plain_password.first, {
                        'attr': {
                            'class':'form-control',
                            'placeholder': 'Enter a new password'
                        }
                    }) }}
                    {{ form_errors(form.plain_password.first) }}
                </div>


                <div class="form-group {% if form.plain_password.first.vars.errors|length %} has-error {% endif %}">
                    {{ form_label(form.plain_password.second, 'Repeat Password: ') }}
                    {{ form_widget(form.plain_password.second, {
                        'attr': {
                            'class':'form-control',
                            'placeholder': 'Enter the new password again'
                        }
                    }) }}
                    {{ form_errors(form.plain_password.first) }}
                </div>

                <div class="form-group">
                    {{ form_widget(form.submit, {
                        'label': 'Create',
                        'attr': {
                            'class': 'btn btn-primary'
                        }
                    }) }}
                    <a href="/admin/users" class="btn btn-default">Cancel</a>
                </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}
